<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>apiary</title>
</head>
<body>
  <script src="https://api.apiary.io/seeds/embed.js"></script>
  <script>
    var embed = new Apiary.Embed({
      apiBlueprint: "FORMAT: 1A\nHOST: https://localhost:3000/api/\n\n# Sam Pastoriza\'s Blog API\n\n## Features\n* Manage user sessions (Login, Logout, Register)\n* Retrieve article/s\n* Create and Update articles by valid users\n\n## Users [/user/:username]\n\n### Get a user [GET]\n\nGet information about a particular user\n\n+ Request (application/json)\n\n    + Parameters\n\n        + username (string, required) - The username of a particular user\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": {\n                \"hash\": \"hksdjfhlaksdjhflkashjdflaufh97r98732749\",\n                \"salt\": \"fdjkjshdalfhgsdljfgla4y38y98u9uf9uaukzjh\",\n                \"email\": \"email@email.com\",\n                \"name\": \"John Doe\",\n                \"username\": \"doejd\",\n                \"posts\": [],\n                \"joinedDate\": \"2017-06-20T13:17:27.213Z\",\n                \"profilePicture\": \"http://profile.picture.com\",\n                \"refreshToken\": \"239jfdj.;sofaj8;lfkj.lskdjflkhsjh82\"\n            }\n        }\n\n### Update a User\'s Profile Picture [POST]\n\nUpdates a user\'s profile picture\n\n+ Request (multipart/form-data; boundary=---BOUNDARY)\n\n        -----BOUNDARY\n        Authorization: Bearer __JWT__\n        Content-Disposition: form-data; name=\"image[file]\"; filename=\"image.jpg\"\n        Content-Type: image/jpeg\n        Content-Transfer-Encoding: base64\n\n        /9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a\n        HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy\n        MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAABAAEDASIA\n        AhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFAEB\n        AAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AL+AD//Z\n        -----BOUNDARY\n        \n+ Response 200 (application/json)\n    \n        {\n            \"data\": {\n                \"_id\": \"84293874938749723947\",\n                \"hash\": \"hksdjfhlaksdjhflkashjdflaufh97r98732749\",\n                \"salt\": \"fdjkjshdalfhgsdljfgla4y38y98u9uf9uaukzjh\",\n                \"email\": \"email@email.com\",\n                \"name\": \"John Doe\",\n                \"username\": \"doejd\",\n                \"__v\": 0,\n                \"posts\": [],\n                \"joinedDate\": \"2017-06-20T13:17:27.213Z\",\n                \"profilePicture\": \"http://profile.picture.com\",\n                \"refreshToken\": \"239jfdj.;sofaj8;lfkj.lskdjflkhsjh82\"\n            }\n        }\n\n### Update a User [PUT]\n\nUpdates a new user with the provided data\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Parameters\n\n        + username (string, required) - The username of a particular user\n\n    + Body\n\n            {\n                \"email\": \"email@email.com\",\n                \"name\": \"John Doe\",\n                \"username\": \"doejd\",\n            }\n\n\n+ Response 200 (application/json)\n    \n        {\n            \"data\": {\n                \"_id\": \"84293874938749723947\",\n                \"hash\": \"hksdjfhlaksdjhflkashjdflaufh97r98732749\",\n                \"salt\": \"fdjkjshdalfhgsdljfgla4y38y98u9uf9uaukzjh\",\n                \"email\": \"email@email.com\",\n                \"name\": \"John Doe\",\n                \"username\": \"doejd\",\n                \"__v\": 0,\n                \"posts\": [],\n                \"joinedDate\": \"2017-06-20T13:17:27.213Z\",\n                \"profilePicture\": \"http://profile.picture.com\",\n                \"refreshToken\": \"239jfdj.;sofaj8;lfkj.lskdjflkhsjh82\"\n            }\n        }\n\n### Delete a User [DELETE]\n\nDelete a user from the system\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Parameters\n\n        + username (string, required) - The username of a particular user\n\n\n+ Response 200 (application/json)\n    \n        {\n            data: `The user with the username doejd was removed`\n        }\n\n## Register [/register]\n\n### Register a user [POST]\n\nRegister a particular user given the information provided. Assuming the username is not already taken and the user is successfully registered, the api will return a JWT.\n\n+ Request (application/json)\n\n    + Body\n\n            {\n                username: \"doejd\",\n                password: \"newpassword\"\n                name: \"John Doe\",\n                email: \"email@email.com\",\n            }\n\n+ Response 200 (application/json)\n\n        {\n            access_token: \"fjsljo;iawejlkjafsljifju9827kkj\",\n            refresh_token: \"falsdjfkhasdlkfjhalskdhffh2h893hf\",\n            expires_in: 12798,\n            token_type: \"Bearer\"\n        }\n\n## Login [/login]\n\n### Login a user [GET]\n\nAllows a user to login. The Authorization header must contain the username and password combined with a colon. It will return a JWT.\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: {username}:{password}\n\n+ Response 200 (application/json)\n\n        {\n            access_token: \"fjsljo;iawejlkjafsljifju9827kkj\",\n            refresh_token: \"falsdjfkhasdlkfjhalskdhffh2h893hf\",\n            expires_in: 12798,\n            token_type: \"Bearer\"\n        }\n\n\n## Articles [/blog]\n\n### Get all articles [GET]\n\nGet all articles that are published\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": [\n                {\n                    \"_id\": 0,\n                    \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                    \"title\": \"Hello world version 2\",\n                    \"description\": \"This is another test\",\n                    \"author\": \"doejd\",\n                    \"tags\": [],\n                    \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                    \"coverPhoto\": \"https://profile.picture.com\",\n                    \"isPublished\": true\n                }\n            ]\n        }\n\n### Create new article [POST]\n\nCreate a new article with the given information\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Body\n\n            {\n                title: \"A new title\",\n                description: \"A new description\",\n                text: \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                author: \"doejd\"\n            }\n\n\n+ Response 200 (application/json)\n    \n        {\n            \"data\": {\n                \"_id\": 0,\n                \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                \"title\": \"Hello world version 2\",\n                \"description\": \"This is another test\",\n                \"author\": \"doejd\",\n                \"tags\": [],\n                \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                \"coverPhoto\": \"https://profile.picture.com\",\n                \"isPublished\": true\n            }\n        }\n\n## Article [/blog/:id]\n\n### Get an article [GET]\n\nGet a single article\n\n+ Request (application/json)\n\n    + Parameters\n\n        + id (number, required) - The id of a particlar article\n\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": {\n                \"_id\": 0,\n                \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                \"title\": \"Hello world version 2\",\n                \"description\": \"This is another test\",\n                \"author\": \"doejd\",\n                \"tags\": [],\n                \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                \"coverPhoto\": \"https://profile.picture.com\",\n                \"isPublished\": true\n            }\n        }\n\n### Update an article [PUT]\n\nUpdate an article with the given information\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Parameters\n\n        + id (number, required) - The id of a particlar article\n\n    + Body\n\n            {\n                title: \"A new title\",\n                description: \"A new description\",\n                text: \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                author: \"doejd\"\n            }\n\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": {\n                \"_id\": 0,\n                \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                \"title\": \"Hello world version 2\",\n                \"description\": \"This is another test\",\n                \"author\": \"doejd\",\n                \"tags\": [],\n                \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                \"coverPhoto\": \"https://profile.picture.com\",\n                \"isPublished\": false\n            }\n        }\n\n### Update an article\'s cover photo [POST]\n\nUpdate an article\'s cover photo\n\n\n+ Request (multipart/form-data; boundary=---BOUNDARY)\n\n        -----BOUNDARY\n        Authorization: Bearer __JWT__\n        Content-Disposition: form-data; name=\"image[file]\"; filename=\"image.jpg\"\n        Content-Type: image/jpeg\n        Content-Transfer-Encoding: base64\n\n        /9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a\n        HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy\n        MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAABAAEDASIA\n        AhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFAEB\n        AAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AL+AD//Z\n        -----BOUNDARY\n        \n+ Response 200 (application/json)\n    \n        {\n            \"data\": {\n                \"_id\": 0,\n                \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                \"title\": \"Hello world version 2\",\n                \"description\": \"This is another test\",\n                \"author\": \"doejd\",\n                \"tags\": [],\n                \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                \"coverPhoto\": \"https://profile.picture.com\",\n                \"isPublished\": false\n            }\n        }\n\n### Delete an article [DELETE]\n\nDelete an article\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Parameters\n\n        + id (number, required) - The id of a particlar article\n\n\n+ Response 200 (application/json)\n\n        {\n            \"message\": \"The blog with the id 0 was removed\"\n        }\n\n## Article Tags [/blog/tag/:tag]\n\n### Get article by tag [GET]\n\nGet articles that are published by a tag\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Parameters\n\n        + tag (string, required) - A tag associated with a set of articles\n\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": [\n                {\n                    \"_id\": 0,\n                    \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                    \"title\": \"Hello world version 2\",\n                    \"description\": \"This is another test\",\n                    \"author\": \"doejd\",\n                    \"tags\": [],\n                    \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                    \"coverPhoto\": \"https://profile.picture.com\",\n                    \"isPublished\": true\n                }\n            ]\n        }\n\n## Article Titles [/blog/title/:title]\n\n### Get article by title [GET]\n\nGet articles that are published by a title\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Parameters\n\n        + title (string, required) - A title associated with at least one article\n\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": [\n                {\n                    \"_id\": 0,\n                    \"title\": \"Hello world version 2\",\n                    \"tags\": [\"first\", \"second\"]\n                },\n                {\n                    \"_id\": 1,\n                    \"title\": \"Hello world version 3\",\n                    \"tags\": [\"first\", \"third\", \"databases\"]\n                }\n            ]\n        }\n\n## User\'s Articles [/article/:username]\n\n### Get article by username [GET]\n\nGet articles by username (both published and unpublished)\n\n+ Request (application/json)\n\n    + Parameters\n\n        + username (string, required) - A set of articles associated with a user\n\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": [\n                {\n                    \"_id\": 0,\n                    \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                    \"title\": \"Hello world version 2\",\n                    \"description\": \"This is another test\",\n                    \"author\": \"doejd\",\n                    \"tags\": [],\n                    \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                    \"coverPhoto\": \"https://profile.picture.com\",\n                    \"isPublished\": true\n                },\n                {\n                    \"_id\": 1,\n                    \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                    \"title\": \"Hello world version 3\",\n                    \"description\": \"This is another test 2\",\n                    \"author\": \"doejd\",\n                    \"tags\": [],\n                    \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                    \"coverPhoto\": \"https://profile.picture.com\",\n                    \"isPublished\": false\n                }\n            ]\n        }\n\n## Gist Conversion [/gist]\n\n### Get converted html given url [GET]\n\nConvert a gist or github url to a minified well formatted html string.\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Body\n\n            {\n                link: \"https://github.com/pastorsj/blog-api/blob/master/README.md\"\n            }\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": {\n                \"html\": \"<p>Html plus stylesheet<\/p>\",\n                \"file\": \"<p>Just the html<\/p>\",\n                \"stylesheet\": \"<p>Just the stylesheet html<\/p>\"\n            }\n        }\n\n## JWT [/jwt]\n\n### Check Expiration [POST]\n\nCheck if a jwt is expired\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"JWT is expired\"\n        }\n\n## Tags [/tags]\n\n### Create a Tag [POST]\n\nAdds a new tag if it does not exist already\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Body\n\n            {\n                tag: \"database\"\n            }\n\n+ Response 204\n\n### Get Prefixes [PUT]\n\nGiven a prefix of a tag, get all tags that match that prefix, up to a certain count.\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: Bearer __JWT__\n\n    + Body\n\n            {\n                prefix: \"data\",\n                count: 50\n            }\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": [\"databases\", \"data migration\"]\n        }\n\n### Get Tags by Popularity [GET]\n\nGet all tags by the number of published articles that use that tag.\n\n+ Request (application/json)\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": {\n                \"databases\" 2,\n                \"data migration\": 3\n            }\n        }\n\n## Article by Tag [/tags/:tag]\n\n### Get Articles by Tag [PUT]\n\nGet all published with a specific tag.\n\n+ Request (application/json)\n\n    + Body\n\n            {\n                tag: \"databases\"\n            }\n\n+ Response 200 (application/json)\n\n        {\n            \"data\": [\n                {\n                    \"_id\": 0,\n                    \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                    \"title\": \"Hello world version 2\",\n                    \"description\": \"This is another test\",\n                    \"author\": \"doejd\",\n                    \"tags\": [\"databases\", \"redis\"],\n                    \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                    \"coverPhoto\": \"https://profile.picture.com\",\n                    \"isPublished\": true\n                },\n                {\n                    \"_id\": 1,\n                    \"text\": \"<p>Welcome to my first article on the basics of programming. I am really enjoying my time working on this project, which will soon be linked on github<\/p><p><strong>Hello this is my first article.....<\/strong><\/p>\",\n                    \"title\": \"Hello world version 3\",\n                    \"description\": \"This is another test 2\",\n                    \"author\": \"doejd\",\n                    \"tags\": [\"mssql\", \"databases\"],\n                    \"datePosted\": \"2017-06-20T13:30:13.408Z\",\n                    \"coverPhoto\": \"https://profile.picture.com\",\n                    \"isPublished\": true\n                }\n            ]\n        }"
    });

    if (false) {
        var changed = null
        var xhrChanged = new XMLHttpRequest();
        var xhrData = new XMLHttpRequest();
        setInterval(function() {
            xhrChanged.open('GET', window.location.href + "/changed", true);
            xhrChanged.send();

            xhrChanged.onreadystatechange = function() {
                if (xhrChanged.readyState == 4 && xhrChanged.status == 200) {
                    if (!changed) {
                        changed = xhrChanged.responseText
                    }
                    if (changed != xhrChanged.responseText) {
                        changed = xhrChanged.responseText
                        xhrData.open('GET', window.location.href + "/source", true);
                        xhrData.send();

                        xhrData.onreadystatechange = function() {
                            if (xhrData.readyState == 4 && xhrData.status == 200) {
                                embed.iframeElement.contentWindow.postMessage({"origin": embed.ORIGIN, "eventType": "anonymousPreview", "data": {"code": xhrData.responseText}}, '*');
                            }
                        }
                    }
                }
            }
        }, 1000);
    }
  </script>
</body>
</html>
